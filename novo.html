<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EPI Guard | Controle de Turma</title>

    <style>
        /* --- DESIGN SYSTEM REFINADO --- */
        :root {
            --senai-red: #E30613;
            --senai-red-light: rgba(227, 6, 19, 0.1);

            /* Cores para Hist√≥rico (Laranja) */
            --amber-alert: #F59E0B;
            --amber-bg: #FFFBEB;
            --amber-text: #92400E;

            /* Cores para Reincidente (Roxo/Vinho - Situa√ß√£o Cr√≠tica) */
            --purple-alert: #7C3AED;
            --purple-bg: #F5F3FF;
            --purple-text: #5B21B6;

            --bg-body: #F0F2F5;
            --bg-card: #FFFFFF;
            --text-primary: #111827;
            --text-secondary: #6B7280;
            --border-color: #E5E7EB;

            --success-bg: #D1FAE5;
            --success-text: #065F46;
            --danger-bg: #FEE2E2;
            --danger-text: #991B1B;

            --radius: 16px;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-hover: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            --font-stack: 'Inter', system-ui, -apple-system, sans-serif;
            --transition: all 0.2s ease-in-out;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            outline: none;
            font-family: var(--font-stack);
        }

        body {
            background-color: var(--bg-body);
            color: var(--text-primary);
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* --- SIDEBAR --- */
        .sidebar {
            width: 280px;
            background: var(--bg-card);
            border-right: 1px solid var(--border-color);
            display: flex;
            flex-direction: column;
            z-index: 50;
            transition: transform 0.3s ease;
        }

        .brand {
            height: 80px;
            display: flex;
            align-items: center;
            padding: 0 28px;
            border-bottom: 1px solid var(--border-color);
        }

        .brand-logo {
            font-size: 22px;
            font-weight: 800;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 12px;
            letter-spacing: -0.5px;
        }

        .nav-menu {
            padding: 32px 16px;
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 14px 16px;
            text-decoration: none;
            color: var(--text-secondary);
            font-weight: 500;
            border-radius: 12px;
            transition: var(--transition);
            cursor: pointer;
            font-size: 15px;
        }

        .nav-item:hover {
            background-color: var(--bg-body);
            color: var(--text-primary);
        }

        .nav-item.active {
            background-color: var(--senai-red-light);
            color: var(--senai-red);
            font-weight: 600;
        }

        .nav-icon {
            margin-right: 14px;
            font-size: 18px;
        }

        /* --- MAIN CONTENT --- */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        .header {
            height: 80px;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 32px;
            flex-shrink: 0;
        }

        .mobile-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .page-title h1 {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .page-title p {
            font-size: 13px;
            color: var(--text-secondary);
            margin-top: 2px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .live-dot {
            width: 8px;
            height: 8px;
            background: #22c55e;
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
            padding: 6px;
            border-radius: 50px;
            border: 1px solid transparent;
            transition: var(--transition);
        }

        .user-profile:hover {
            background: var(--bg-body);
            border-color: var(--border-color);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--text-primary);
            color: white;
            display: grid;
            place-items: center;
            font-weight: 600;
            font-size: 14px;
        }

        .user-info {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            margin-right: 4px;
        }

        .user-name {
            font-size: 14px;
            font-weight: 600;
        }

        .user-role {
            font-size: 11px;
            color: var(--text-secondary);
        }

        /* --- DASHBOARD --- */
        .dashboard-container {
            flex: 1;
            padding: 24px 32px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .content-card {
            background: var(--bg-card);
            border-radius: var(--radius);
            box-shadow: var(--shadow-sm);
            display: flex;
            flex-direction: column;
            flex: 1;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .controls-bar {
            padding: 24px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            gap: 16px;
            align-items: center;
            background: #FAFAFA;
        }

        .search-wrapper {
            position: relative;
            flex: 1;
            max-width: 400px;
        }

        .search-icon {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-secondary);
        }

        .search-input {
            width: 100%;
            padding: 12px 16px 12px 42px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            font-size: 14px;
            transition: var(--transition);
        }

        .search-input:focus {
            border-color: var(--senai-red);
            box-shadow: 0 0 0 3px var(--senai-red-light);
        }

        .filter-select {
            padding: 12px 16px;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            font-size: 14px;
            color: var(--text-primary);
            background: white;
            cursor: pointer;
        }

        .student-list {
            flex: 1;
            overflow-y: auto;
            padding: 24px;
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 20px;
            align-content: start;
        }

        /* --- CARD DE ALUNO --- */
        .student-card {
            background: white;
            border: 1px solid var(--border-color);
            border-radius: 14px;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            overflow: hidden;
            animation: slideIn 0.3s ease-out backwards;
        }

        .student-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-hover);
        }

        .card-info {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .avatar-placeholder {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            background: #F3F4F6;
            color: #6B7280;
            display: grid;
            place-items: center;
            font-weight: 700;
            font-size: 18px;
            text-transform: uppercase;
        }

        .info-text h3 {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 2px;
        }

        .info-text span {
            font-size: 12px;
            color: var(--text-secondary);
            display: block;
        }

        /* BADGES */
        .status-pill {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-ok {
            background: var(--success-bg);
            color: var(--success-text);
        }

        /* 1. RISCO (Vermelho) - S√≥ sem EPI, sem hist√≥rico */
        .student-card.is-risk {
            border-left: 4px solid var(--senai-red);
            background: linear-gradient(to right, #FEF2F2 0%, #FFFFFF 30%);
        }

        .student-card.is-risk .avatar-placeholder {
            background: #FEE2E2;
            color: var(--senai-red);
        }

        .status-risk {
            background: var(--danger-bg);
            color: var(--danger-text);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* 2. HIST√ìRICO (Laranja) - S√≥ hist√≥rico, EPI Ok */
        .student-card.is-history {
            border-left: 4px solid var(--amber-alert);
            background: linear-gradient(to right, #FFFBEB 0%, #FFFFFF 30%);
        }

        .student-card.is-history .avatar-placeholder {
            background: var(--amber-bg);
            color: var(--amber-alert);
        }

        .status-history {
            background: var(--amber-bg);
            color: var(--amber-text);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* 3. REINCIDENTE (Roxo) - Sem EPI + Tem Hist√≥rico */
        .student-card.is-repeat {
            border-left: 4px solid var(--purple-alert);
            background: linear-gradient(to right, #F5F3FF 0%, #FFFFFF 30%);
        }

        .student-card.is-repeat .avatar-placeholder {
            background: var(--purple-bg);
            color: var(--purple-alert);
        }

        .status-repeat {
            background: var(--purple-bg);
            color: var(--purple-text);
            display: flex;
            align-items: center;
            gap: 4px;
        }


        /* --- MODAL --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
            z-index: 100;
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal-overlay.open {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: white;
            width: 90%;
            max-width: 500px;
            border-radius: 20px;
            padding: 32px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            transform: scale(0.9);
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .modal-overlay.open .modal-content {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 24px;
        }

        .modal-title h2 {
            font-size: 20px;
            font-weight: 700;
        }

        .modal-title p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .close-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-secondary);
        }

        .epi-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
            margin-bottom: 24px;
        }

        .epi-item {
            padding: 12px;
            border-radius: 10px;
            border: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .epi-item.missing {
            background: #FEF2F2;
            border-color: #FECACA;
            color: #991B1B;
        }

        .epi-item.ok {
            background: #F0FDF4;
            border-color: #BBF7D0;
            color: #166534;
        }

        /* FOOTER DO MODAL (BOT√ïES) */
        .modal-actions {
            border-top: 1px solid var(--border-color);
            padding-top: 20px;
            display: flex;
            flex-wrap: wrap;
            justify-content: flex-end;
            gap: 10px;
        }

        .btn {
            padding: 10px 16px;
            border-radius: 8px;
            font-weight: 600;
            font-size: 13px;
            cursor: pointer;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            border: none;
            transition: 0.2s;
        }

        .btn-primary {
            background: #111827;
            color: white;
        }

        .btn-primary:hover {
            background: black;
        }

        .btn-danger {
            background: white;
            color: var(--senai-red);
            border: 1px solid var(--senai-red);
        }

        .btn-danger:hover {
            background: var(--senai-red);
            color: white;
        }

        .btn-warning {
            background: white;
            color: #B45309;
            border: 1px solid var(--amber-alert);
        }

        .btn-warning:hover {
            background: var(--amber-alert);
            color: white;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0% {
                opacity: 1;
            }

            50% {
                opacity: 0.4;
            }

            100% {
                opacity: 1;
            }
        }

        @media (max-width: 1024px) {
            .sidebar {
                position: fixed;
                height: 100%;
                transform: translateX(-100%);
                box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
            }

            .sidebar.active {
                transform: translateX(0);
            }

            .mobile-toggle {
                display: block;
            }

            .controls-bar {
                flex-direction: column;
                align-items: stretch;
            }

            .modal-actions {
                flex-direction: column;
            }

            .btn {
                width: 100%;
                justify-content: center;
            }
        }

        /* --- ANIMA√á√ÉO DE TRANSI√á√ÉO DE P√ÅGINA --- */

        /* 1. Estado Inicial (Entrada) */
        body {
            /* O corpo come√ßa invis√≠vel e levemente deslocado para a direita */
            opacity: 0;
            animation: pageSlideIn 0.5s cubic-bezier(0.25, 1, 0.5, 1) forwards;
        }

        @keyframes pageSlideIn {
            0% {
                opacity: 0;
                transform: translateX(60px);
                /* Vem da direita */
            }

            100% {
                opacity: 1;
                transform: translateX(0);
                /* Pousa no centro */
            }
        }

        /* 2. Classe para Sa√≠da (Adicionada via JS) */
        body.page-exit {
            animation: pageSlideOut 0.4s ease-in forwards;
            pointer-events: none;
            /* Bloqueia cliques durante a sa√≠da */
        }

        @keyframes pageSlideOut {
            0% {
                opacity: 1;
                transform: translateX(0);
            }

            100% {
                opacity: 0;
                transform: translateX(-60px);
                /* Vai para a esquerda */
            }
        }
    </style>
</head>

<body>

    <aside class="sidebar">
        <div class="brand">
            <div class="brand-logo">
                <div class="brand-bar"></div>
                EPI GUARD
            </div>
        </div>
        <nav class="nav-menu">
            <a class="nav-item active" href="dashboard.html">
                <span class="nav-icon">üìä</span> Dashboard
            </a>
            <a class="nav-item" href="fotos.html">
                <span class="nav-icon">‚ö†Ô∏è</span> Infra√ß√µes
            </a>
            <a class="nav-item" href="novo.html">
                <span class="nav-icon">üë•</span> Controle de Sala
            </a>
            <a class="nav-item">
                <span class="nav-icon">üìë</span> Ocorr√™ncia
            </a>
            <a class="nav-item">
                <span class="nav-icon">‚öôÔ∏è</span> Configura√ß√µes
            </a>
        </nav>
    </aside>

    <main class="main-content">
        <header class="header">
            <button class="mobile-toggle" onclick="toggleSidebar()">‚ò∞</button>
            <div class="page-title">
                <h1>Laborat√≥rio de Usinagem B</h1>
                <p><span class="live-dot"></span> Monitoramento em Tempo Real</p>
            </div>
            <div class="user-profile">
                <div class="user-info">
                    <span class="user-name">Carlos Oliveira</span>
                    <span class="user-role">Instrutor T√©cnico</span>
                </div>
                <div class="user-avatar">CO</div>
            </div>
        </header>

        <div class="dashboard-container">
            <div class="content-card">
                <div class="controls-bar">
                    <div class="search-wrapper">
                        <span class="search-icon">üîç</span>
                        <input type="text" class="search-input" id="searchInput" placeholder="Buscar aluno...">
                    </div>
                    <select class="filter-select" id="statusFilter">
                        <option value="all">Todos</option>
                        <option value="Risk">‚ö†Ô∏è Risco Ativo</option>
                        <option value="History">üîî Hist√≥rico</option>
                        <option value="Repeat">‚ö†Ô∏è Reincidentes (Cr√≠tico)</option>
                        <option value="Safe">‚úÖ Regulares</option>
                    </select>
                </div>

                <div class="student-list" id="studentList">
                </div>
            </div>
        </div>
    </main>

    <div class="modal-overlay" id="detailModal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-title">
                    <h2 id="modalName">Nome</h2>
                    <p id="modalCourse">Curso</p>
                </div>
                <button class="close-btn" onclick="closeModal()">‚úï</button>
            </div>

            <h4 style="margin-bottom: 12px; font-size: 14px; color: var(--text-secondary);">Checklist (Tempo Real)</h4>
            <div class="epi-list" id="modalEpiList"></div>

            <div class="modal-actions" id="modalFooterActions">
            </div>
        </div>
    </div>

    <script>
        // --- DADOS COM A L√ìGICA DE DUPLA INFRA√á√ÉO ---
        // missing: [] -> Sem infra√ß√£o atual
        // history: true -> Tem infra√ß√£o passada
        // missing: [...] + history: true -> REINCIDENTE
        const students = [
            { id: 101, name: "Arthur", course: "Mec√¢nica", missing: [], history: false }, // OK
            { id: 102, name: "Beatriz", course: "Mec√¢nica", missing: ["√ìculos"], history: true }, // REINCIDENTE (Roxo)
            { id: 103, name: "Ian", course: "Mec√¢nica", missing: [], history: true }, // HIST√ìRICO (Laranja)
            { id: 104, name: "Gide√£o", course: "Mec√¢nica", missing: [], history: false }, // OK
            { id: 105, name: "Heitor", course: "Mec√¢nica", missing: ["Capacete"], history: false }, // RISCO (Vermelho)
            { id: 106, name: "Ruanzin", course: "Mec√¢nica", missing: [], history: false },
            { id: 107, name: "Matheus", course: "Mec√¢nica", missing: [], history: true }, // HIST√ìRICO
            { id: 108, name: "Kauan", course: "Mec√¢nica", missing: [], history: false },
            { id: 109, name: "Jo√£o Black", course: "Mec√¢nica", missing: ["Luvas"], history: true }, // REINCIDENTE
            { id: 110, name: "Pirra", course: "Mec√¢nica", missing: [], history: false },
            { id: 111, name: "Ruan Gomes", course: "Mec√¢nica", missing: [], history: true },
            { id: 112, name: "Pereira", course: "Mec√¢nica", missing: [], history: false },
            { id: 113, name: "Vitor", course: "Mec√¢nica", missing: [], history: false },
            { id: 114, name: "Lais", course: "Mec√¢nica", missing: ["Botas"], history: false }, // RISCO
            { id: 115, name: "Guedes", course: "Mec√¢nica", missing: [], history: false },
            { id: 116, name: "Parapirra", course: "Mec√¢nica", missing: [], history: true },
            { id: 117, name: "Nahyron", course: "Mec√¢nica", missing: ["Capacete", "Luvas"], history: true }, // REINCIDENTE
            { id: 118, name: "Gabriel", course: "Mec√¢nica", missing: [], history: false },
            { id: 119, name: "Julia", course: "Mec√¢nica", missing: [], history: false },
            { id: 120, name: "Rafael", course: "Mec√¢nica", missing: ["√ìculos"], history: false }
        ];

        const listContainer = document.getElementById('studentList');

        // Helper para descobrir o estado
        function getStudentState(student) {
            const hasRisk = student.missing.length > 0;
            const hasHistory = student.history;

            if (hasRisk && hasHistory) return 'Repeat'; // Novo estado
            if (hasRisk) return 'Risk';
            if (hasHistory) return 'History';
            return 'Safe';
        }

        function renderList(filterText = '', filterStatus = 'all') {
            listContainer.innerHTML = '';

            const filtered = students.filter(s => {
                const state = getStudentState(s);
                const matchesText = s.name.toLowerCase().includes(filterText.toLowerCase());
                const matchesStatus = filterStatus === 'all' || state === filterStatus;
                return matchesText && matchesStatus;
            });

            if (filtered.length === 0) {
                listContainer.innerHTML = `<div style="padding:20px; color:#999;">Nenhum aluno encontrado.</div>`;
                return;
            }


            filtered.forEach((student, index) => {
                const state = getStudentState(student);
                const initials = student.name.substring(0, 2).toUpperCase();

                let cardClass = '';
                let badgeHtml = '';

                switch (state) {
                    case 'Repeat':
                        cardClass = 'is-repeat';
                        badgeHtml = '<div class="status-pill status-repeat">‚ö†Ô∏è REINCIDENTE</div>';
                        break;
                    case 'Risk':
                        cardClass = 'is-risk';
                        badgeHtml = '<div class="status-pill status-risk">‚ö†Ô∏è SEM EPI</div>';
                        break;
                    case 'History':
                        cardClass = 'is-history';
                        badgeHtml = '<div class="status-pill status-history">üîî ALERTA</div>';
                        break;
                    default:
                        badgeHtml = '<div class="status-pill status-ok">REGULAR</div>';
                }

                const card = document.createElement('div');
                card.className = `student-card ${cardClass}`;
                card.style.animationDelay = `${index * 0.03}s`;
                card.onclick = () => openModal(student);

                card.innerHTML = `
                    <div class="card-info">
                        <div class="avatar-placeholder">${initials}</div>
                        <div class="info-text">
                            <h3>${student.name}</h3>
                            <span>ID #${student.id} ‚Ä¢ ${student.course}</span>
                        </div>
                    </div>
                    ${badgeHtml}
                `;
                listContainer.appendChild(card);
            });
        }

        // --- L√ìGICA DO MODAL ---
        const modal = document.getElementById('detailModal');

        function openModal(student) {
            const hasRisk = student.missing.length > 0;
            const hasHistory = student.history;

            document.getElementById('modalName').innerText = student.name;
            document.getElementById('modalCourse').innerText = `${student.course} ‚Ä¢ ID #${student.id}`;

            // Lista EPI
            const epiContainer = document.getElementById('modalEpiList');
            epiContainer.innerHTML = '';
            const allEpis = ["Capacete", "√ìculos", "Luvas", "Botas"];
            allEpis.forEach(epi => {
                const isMissing = student.missing.includes(epi);
                const item = document.createElement('div');
                item.className = `epi-item ${isMissing ? 'missing' : 'ok'}`;
                item.innerHTML = `<span>${epi}</span> <span>${isMissing ? '‚ùå Ausente' : '‚úÖ Ok'}</span>`;
                epiContainer.appendChild(item);
            });

            // --- GERA√á√ÉO INTELIGENTE DE BOT√ïES ---
            const footer = document.getElementById('modalFooterActions');
            let buttonsHtml = '';

            // Bot√£o de ver infra√ß√£o atual (se houver risco)
            if (hasRisk) {
                buttonsHtml += `
                    <a href="ver-infracao.html?id=${student.id}&type=active" class="btn btn-danger">
                        üì∏ Ver Infra√ß√£o Atual
                    </a>`;
            }

            // Bot√£o de ver hist√≥rico (se houver hist√≥rico)
            if (hasHistory) {
                buttonsHtml += `
                    <a href="ver-infracao.html?id=${student.id}&type=history" class="btn btn-warning">
                        üïí Ver Infra√ß√£o Passada
                    </a>`;
            }

            // Bot√£o de abrir nova ocorr√™ncia (sempre aparece)
            buttonsHtml += `<button class="btn btn-primary" onclick="alert('Nova ocorr√™ncia registrada para ${student.name}')">üìù Abrir Ocorr√™ncia</button>`;

            footer.innerHTML = buttonsHtml;
            modal.classList.add('open');
        }

        function closeModal() {
            modal.classList.remove('open');
        }

        function toggleSidebar() {
            document.getElementById('sidebar').classList.toggle('active');
        }

        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });

        document.getElementById('searchInput').addEventListener('keyup', (e) => renderList(e.target.value, document.getElementById('statusFilter').value));
        document.getElementById('statusFilter').addEventListener('change', (e) => renderList(document.getElementById('searchInput').value, e.target.value));
        renderList();
        // --- SCRIPT DE TRANSI√á√ÉO DE P√ÅGINA ---

        document.addEventListener("DOMContentLoaded", () => {
            // Seleciona todos os links que levam para outras p√°ginas
            const links = document.querySelectorAll('a');

            links.forEach(link => {
                link.addEventListener('click', (e) => {
                    const href = link.getAttribute('href');

                    // Ignora links vazios, √¢ncoras (#) ou javascript:
                    if (!href || href.startsWith('#') || href.startsWith('javascript:')) return;

                    // 1. Impede a navega√ß√£o imediata
                    e.preventDefault();

                    // 2. Adiciona a classe que faz a anima√ß√£o de sa√≠da (Slide para esquerda)
                    document.body.classList.add('page-exit');

                    // 3. Aguarda o tempo da anima√ß√£o (400ms) e ent√£o muda de p√°gina
                    setTimeout(() => {
                        window.location.href = href;
                    }, 400); // Deve bater com o tempo do CSS (.4s)
                });
            });
        });
    </script>
</body>

</html>