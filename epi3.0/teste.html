<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EPI GUARD | Painel Inteligente</title>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            /* Cores SENAI & Identidade */
            --senai-red: #E30613;
            --senai-blue: #004587;
            --senai-dark-blue: #002c52;
            
            /* Paleta Corporativa - Light Mode */
            --bg-body: #f8fafc;
            --bg-sidebar: #ffffff;
            --bg-card: #ffffff;
            --text-main: #0f172a;
            --text-muted: #64748b;
            --border-color: #e2e8f0;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.025);
            
            /* Status Colors */
            --success-bg: #dcfce7;
            --success-text: #166534;
            --danger-bg: #fee2e2;
            --danger-text: #991b1b;

            --chart-main-color: var(--senai-red);
        }

        /* Dark Mode Override */
        [data-theme="dark"] {
            --bg-body: #0f172a;
            --bg-sidebar: #1e293b;
            --bg-card: #1e293b;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --border-color: #334155;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.5);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5);
            
            --success-bg: rgba(22, 101, 52, 0.3);
            --success-text: #4ade80;
            --danger-bg: rgba(153, 27, 27, 0.3);
            --danger-text: #f87171;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', system-ui, sans-serif; /* Fonte mais profissional */
        }

        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            display: flex;
            min-height: 100vh;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* --- Sidebar --- */
        aside {
            width: 260px;
            background: var(--bg-sidebar);
            height: 100vh;
            position: fixed;
            border-right: 1px solid var(--border-color);
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            z-index: 20;
            transition: all 0.3s ease;
        }

        .brand {
            font-size: 1.25rem;
            font-weight: 800;
            color: var(--text-main);
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 3rem;
            letter-spacing: -0.5px;
        }

        .brand span { color: var(--senai-red); }
        .brand-icon {
            width: 14px;
            height: 14px;
            border: 3px solid var(--senai-red);
            border-radius: 50%;
        }

        nav ul {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .nav-item {
            padding: 12px 16px;
            border-radius: 8px;
            cursor: pointer;
            color: var(--text-muted);
            font-weight: 500;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 12px;
            transition: all 0.2s;
        }

        .nav-item:hover {
            background-color: var(--bg-body);
            color: var(--text-main);
        }

        .nav-item.active {
            background-color: rgba(227, 6, 19, 0.08);
            color: var(--senai-red);
            font-weight: 600;
        }

        /* --- Main Content --- */
        main {
            margin-left: 260px;
            flex: 1;
            padding: 2.5rem;
            overflow-y: auto;
            overflow-x: hidden;
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 2.5rem;
            position: relative;
        }

        .page-title h1 {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 6px;
            letter-spacing: -0.5px;
        }

        .page-title p {
            color: var(--text-muted);
            font-size: 0.95rem;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        /* Botões do Header Modernos */
        .icon-btn {
            background: transparent;
            border: none;
            color: var(--text-muted);
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .icon-btn:hover {
            background: var(--border-color);
            color: var(--text-main);
        }

        .badge-dot {
            position: absolute;
            top: 8px;
            right: 8px;
            width: 8px;
            height: 8px;
            background-color: var(--senai-red);
            border-radius: 50%;
            border: 2px solid var(--bg-body);
        }

        .btn-export {
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background: var(--bg-card);
            color: var(--text-main);
            cursor: pointer;
            font-weight: 600;
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            box-shadow: var(--shadow-sm);
        }

        .btn-export:hover {
            background: var(--bg-body);
            border-color: var(--text-muted);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            background: var(--senai-dark-blue);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: 700;
            cursor: pointer;
            box-shadow: var(--shadow-sm);
            border: 2px solid white;
        }

        /* Dropdown de Notificações */
        .notif-dropdown {
            position: absolute;
            top: 50px;
            right: 60px;
            width: 320px;
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            display: none;
            flex-direction: column;
            z-index: 50;
            overflow: hidden;
            animation: fadeInDrop 0.2s ease;
        }

        .notif-dropdown.show { display: flex; }

        .notif-header {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .notif-header span { font-size: 0.8rem; color: var(--senai-red); cursor: pointer; }

        .notif-item {
            padding: 16px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            gap: 12px;
            transition: background 0.2s;
        }
        
        .notif-item:hover { background: var(--bg-body); cursor: pointer; }
        .notif-item:last-child { border-bottom: none; }
        .notif-icon { color: var(--senai-red); }
        .notif-text p { font-size: 0.85rem; font-weight: 500; margin-bottom: 4px;}
        .notif-text small { font-size: 0.75rem; color: var(--text-muted); }

        /* --- Views Animadas --- */
        .view-section {
            display: none;
            animation: slideInPPT 0.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
        }

        .view-section.active { display: block; }

        @keyframes slideInPPT {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes fadeInDrop {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Grid de Cards (Top KPI) --- */
        .kpi-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .card {
            background: var(--bg-card);
            border-radius: 16px; /* Borda mais suave e moderna */
            padding: 1.5rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            transition: all 0.2s ease;
        }

        .card.clickable { cursor: pointer; }
        .card.clickable:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
            border-color: var(--senai-blue);
        }

        .card-title {
            font-size: 0.8rem;
            color: var(--text-muted);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            display: flex;
            justify-content: space-between;
        }

        .card-content-row {
            display: flex;
            align-items: flex-end;
            gap: 12px;
        }

        .big-number {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--text-main);
            line-height: 1;
            letter-spacing: -1px;
        }

        /* Badges */
        .badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 4px;
            margin-bottom: 4px; /* Alinha com a base do número grande */
        }

        .badge.success { background: var(--success-bg); color: var(--success-text); }
        .badge.danger { background: var(--danger-bg); color: var(--danger-text); }

        /* --- Gráfico Principal --- */
        .chart-section {
            background: var(--bg-card);
            padding: 1.5rem 2rem;
            border-radius: 16px;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-md);
            margin-bottom: 2rem;
            height: 320px;
            display: flex;
            flex-direction: column;
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .chart-header h3 { font-size: 1.1rem; font-weight: 700; }
        .chart-legends { font-size: 0.85rem; display: flex; gap: 16px; color: var(--text-muted); font-weight: 500;}
        .legend-item { display:flex; align-items:center; gap:6px; }
        .legend-dot { width: 10px; height: 10px; border-radius: 3px; }

        .css-chart-container {
            flex: 1;
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            border-bottom: 1px solid var(--border-color);
            padding-top: 20px;
            position: relative;
        }

        /* Linhas de grade de fundo simuladas */
        .css-chart-container::before, .css-chart-container::after {
            content: '';
            position: absolute;
            left: 0;
            right: 0;
            border-top: 1px dashed var(--border-color);
            z-index: 0;
        }
        .css-chart-container::before { top: 33%; }
        .css-chart-container::after { top: 66%; }

        .chart-bar-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            height: 100%;
            justify-content: flex-end;
            width: 8%;
            z-index: 1;
        }

        .c-bar {
            width: 100%;
            border-radius: 6px 6px 0 0;
            transition: height 1s cubic-bezier(0.16, 1, 0.3, 1);
            position: relative;
        }
        
        .c-bar:hover { opacity: 0.8; cursor: pointer; }
        .c-label { font-size: 0.75rem; color: var(--text-muted); font-weight: 500; }

        /* --- Bottom Grid --- */
        .bottom-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .panel-box {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 1.5rem;
            border: 1px solid var(--border-color);
            box-shadow: var(--shadow-md);
        }

        .panel-title { margin-bottom: 20px; font-size: 1.1rem; font-weight: 700; color: var(--text-main); }

        /* Listas */
        .list-item {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 0;
            border-bottom: 1px solid var(--border-color);
        }
        .list-item:last-child { border-bottom: none; padding-bottom: 0; }

        .user-info { display: flex; gap: 12px; align-items: center; }
        .avatar-circle {
            width: 36px; height: 36px;
            background: #e2e8f0; color: #475569;
            border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-size: 0.8rem; font-weight: 700;
        }
        .u-name { font-weight: 600; font-size: 0.95rem; display: block; color: var(--text-main); }
        .u-meta { font-size: 0.8rem; color: var(--text-muted); }

        .time-tag {
            background: var(--bg-body);
            color: var(--text-muted);
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            border: 1px solid var(--border-color);
        }

        /* Progress Bar */
        .progress-wrapper { display: flex; align-items: center; gap: 12px; flex: 1; justify-content: flex-end; }
        .progress-bg {
            flex: 0 1 120px;
            height: 8px;
            background: var(--bg-body);
            border-radius: 4px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }
        .progress-fill { height: 100%; background: var(--senai-red); border-radius: 4px;}

        /* --- Configurações / Settings --- */
        .config-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
        }

        .config-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 24px;
            box-shadow: var(--shadow-sm);
        }

        .config-header {
            font-weight: 700;
            font-size: 1.1rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--text-main);
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 10px;
        }

        .control-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        .control-row:last-child { margin-bottom: 0; }

        .control-label span { display: block; font-weight: 600; font-size: 0.95rem; margin-bottom: 2px;}
        .control-label small { color: var(--text-muted); font-size: 0.8rem; }

        /* Toggles Modernos */
        .switch { position: relative; display: inline-block; width: 44px; height: 24px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider {
            position: absolute; cursor: pointer;
            top: 0; left: 0; right: 0; bottom: 0;
            background-color: var(--border-color);
            transition: .3s; border-radius: 24px;
        }
        .slider:before {
            position: absolute; content: "";
            height: 18px; width: 18px;
            left: 3px; bottom: 3px;
            background-color: white;
            transition: .3s; border-radius: 50%;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        input:checked + .slider { background-color: var(--senai-red); }
        input:checked + .slider:before { transform: translateX(20px); }

        .form-select {
            padding: 8px 12px;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            background: var(--bg-body);
            color: var(--text-main);
            font-weight: 500;
            outline: none;
            cursor: pointer;
        }
    </style>
</head>

<body>

    <aside>
        <div class="brand">
            <div class="brand-icon"></div>
            EPI <span>GUARD</span>
        </div>
        <nav id="sidebar-nav">
            <li class="nav-item active" onclick="switchTab('dash', this)">
                <i data-lucide="layout-dashboard"></i> Dashboard
            </li>
            <li class="nav-item" onclick="switchTab('infracoes', this)">
                <i data-lucide="alert-triangle"></i> Infrações
            </li>
            <li class="nav-item" onclick="switchTab('salas', this)">
                <i data-lucide="users"></i> Controle de Sala
            </li>
            <li class="nav-item" onclick="switchTab('config', this)">
                <i data-lucide="settings"></i> Configurações
            </li>
        </nav>
    </aside>

    <main>
        <header>
            <div class="page-title">
                <h1 id="header-title">Painel Geral</h1>
                <p id="header-subtitle">Laboratório B • Monitoramento em Tempo Real</p>
            </div>
            
            <div class="header-actions">
                <button class="btn-export"><i data-lucide="download" width="18"></i> Exportar</button>
                
                <button class="icon-btn" onclick="switchTab('config', document.querySelectorAll('.nav-item')[3])">
                    <i data-lucide="settings"></i>
                </button>

                <button class="icon-btn" onclick="toggleNotifications()">
                    <i data-lucide="bell"></i>
                    <span class="badge-dot"></span>
                </button>
                
                <div class="notif-dropdown" id="notifDropdown">
                    <div class="notif-header">
                        Notificações <span>Marcar lidas</span>
                    </div>
                    <div class="notif-item">
                        <i data-lucide="alert-circle" class="notif-icon"></i>
                        <div class="notif-text">
                            <p>Infração Crítica Registrada</p>
                            <small>Falta de capacete - Lab B (Há 2 min)</small>
                        </div>
                    </div>
                    <div class="notif-item">
                        <i data-lucide="info" style="color: var(--senai-blue);"></i>
                        <div class="notif-text">
                            <p>Relatório Semanal Gerado</p>
                            <small>Clique para baixar (Há 1h)</small>
                        </div>
                    </div>
                </div>

                <div class="user-avatar">AD</div>
            </div>
        </header>

        <div id="view-dash" class="view-section active">
            <div class="kpi-grid">
                <div class="card clickable">
                    <div class="card-title">Infrações Diárias <i data-lucide="calendar" width="16"></i></div>
                    <div class="card-content-row">
                        <span class="big-number">11</span>
                        <div class="badge success status-wrapper">
                            <i data-lucide="trending-up" width="12"></i> <span class="percent-wrapper">22%</span>
                        </div>
                    </div>
                </div>

                <div class="card clickable">
                    <div class="card-title">Infrações Semanais <i data-lucide="calendar-days" width="16"></i></div>
                    <div class="card-content-row">
                        <span class="big-number">86</span>
                        <div class="badge danger status-wrapper">
                            <i data-lucide="trending-down" width="12"></i> <span class="percent-wrapper">39%</span>
                        </div>
                    </div>
                </div>

                <div class="card clickable">
                    <div class="card-title">Infrações Mês <i data-lucide="bar-chart-2" width="16"></i></div>
                    <div class="card-content-row">
                        <span class="big-number">534</span>
                        <div class="badge success status-wrapper">
                            <i data-lucide="trending-up" width="12"></i> <span class="percent-wrapper">304%</span>
                        </div>
                    </div>
                </div>

                <div class="card clickable" style="border-left: 4px solid var(--danger-text);">
                    <div class="card-title">Conformidade <i data-lucide="shield-alert" width="16"></i></div>
                    <div class="card-content-row">
                        <span class="big-number">0%</span>
                        <div class="badge danger status-wrapper" style="border: 1px solid var(--danger-text);">
                            <span class="percent-wrapper">CRÍTICO</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="chart-section">
                <div class="chart-header">
                    <h3>Infrações de EPIs (Histórico Anual)</h3>
                    <div class="chart-legends">
                        <div class="legend-item"><div class="legend-dot" style="background:var(--senai-red);"></div> Capacete</div>
                        <div class="legend-item"><div class="legend-dot" style="background:var(--senai-dark-blue);"></div> Óculos</div>
                    </div>
                </div>

                <div class="css-chart-container">
                    <div class="chart-bar-group">
                        <div class="c-bar" style="height: 25%; background: var(--senai-red);"></div>
                        <span class="c-label">Jan</span>
                    </div>
                    <div class="chart-bar-group">
                        <div class="c-bar" style="height: 65%; background: var(--senai-red);"></div>
                        <span class="c-label">Fev</span>
                    </div>
                    <div class="chart-bar-group">
                        <div class="c-bar" style="height: 40%; background: var(--senai-red);"></div>
                        <span class="c-label">Mar</span>
                    </div>
                    <div class="chart-bar-group">
                        <div class="c-bar" style="height: 80%; background: var(--senai-red);"></div>
                        <span class="c-label">Abr</span>
                    </div>
                    <div class="chart-bar-group">
                        <div class="c-bar" style="height: 35%; background: var(--senai-red);"></div>
                        <span class="c-label">Mai</span>
                    </div>
                    <div class="chart-bar-group">
                        <div class="c-bar" style="height: 90%; background: var(--senai-red);"></div>
                        <span class="c-label">Jun</span>
                    </div>
                    <div class="chart-bar-group">
                        <div class="c-bar" style="height: 60%; background: var(--senai-red);"></div>
                        <span class="c-label">Jul</span>
                    </div>
                </div>
            </div>

            <div class="bottom-grid">
                <div class="panel-box">
                    <h3 class="panel-title">Registro Diário Recente</h3>
                    <div class="list-container">
                        <div class="list-item">
                            <div class="user-info">
                                <div class="avatar-circle">JB</div>
                                <div><span class="u-name">Joao Black</span><span class="u-meta">Ausência de Capacete</span></div>
                            </div>
                            <span class="time-tag">09:26</span>
                        </div>
                        <div class="list-item">
                            <div class="user-info">
                                <div class="avatar-circle">AR</div>
                                <div><span class="u-name">Arthur</span><span class="u-meta">Ausência de Capacete</span></div>
                            </div>
                            <span class="time-tag">09:43</span>
                        </div>
                        <div class="list-item">
                            <div class="user-info">
                                <div class="avatar-circle" style="background: #fef08a; color: #854d0e;">BE</div>
                                <div><span class="u-name">Beatriz</span><span class="u-meta">Óculos Inadequado</span></div>
                            </div>
                            <span class="time-tag">10:39</span>
                        </div>
                    </div>
                </div>

                <div class="panel-box">
                    <h3 class="panel-title">Alunos com mais Ocorrências</h3>
                    <div class="list-item">
                        <span class="u-name" style="width: 80px;">Pereira</span>
                        <div class="progress-wrapper">
                            <div class="progress-bg"><div class="progress-fill" style="width: 90%;"></div></div>
                            <span style="font-weight: 700; font-size: 0.85rem;">169</span>
                        </div>
                    </div>
                    <div class="list-item">
                        <span class="u-name" style="width: 80px;">J. Black</span>
                        <div class="progress-wrapper">
                            <div class="progress-bg"><div class="progress-fill" style="width: 85%;"></div></div>
                            <span style="font-weight: 700; font-size: 0.85rem;">168</span>
                        </div>
                    </div>
                    <div class="list-item">
                        <span class="u-name" style="width: 80px;">Gideão</span>
                        <div class="progress-wrapper">
                            <div class="progress-bg"><div class="progress-fill" style="width: 80%;"></div></div>
                            <span style="font-weight: 700; font-size: 0.85rem;">166</span>
                        </div>
                    </div>
                    <button style="width: 100%; margin-top: 20px; padding: 10px; background: var(--bg-body); border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-main); font-weight: 600; cursor: pointer; transition: 0.2s;">Ver Relatório Completo</button>
                </div>
            </div>
        </div>

        <div id="view-config" class="view-section">
            <div class="config-grid">
                
                <div class="config-card">
                    <div class="config-header"><i data-lucide="monitor"></i> Interface</div>
                    
                    <div class="control-row">
                        <div class="control-label">
                            <span>Modo Noturno (Dark Mode)</span>
                            <small>Alternar tema escuro/claro</small>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="toggle-darkmode" onchange="toggleTheme()">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="control-row">
                        <div class="control-label">
                            <span>Exibir Porcentagem</span>
                            <small>Mostrar variações % nos cards do topo</small>
                        </div>
                        <label class="switch">
                            <input type="checkbox" checked onchange="document.querySelectorAll('.percent-wrapper').forEach(el => el.style.display = this.checked ? 'inline' : 'none')">
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="config-card">
                    <div class="config-header"><i data-lucide="sliders"></i> Preferências de Sistema</div>

                    <div class="control-row">
                        <div class="control-label">
                            <span>Som de Notificações</span>
                            <small>Tocar alerta sonoro ao receber infração</small>
                        </div>
                        <label class="switch">
                            <input type="checkbox" checked id="toggle-sound">
                            <span class="slider"></span>
                        </label>
                    </div>

                    <div class="control-row">
                        <div class="control-label">
                            <span>Tipo de Gráfico Padrão</span>
                            <small>Formato de visualização inicial</small>
                        </div>
                        <select class="form-select">
                            <option value="bar">Gráfico de Barras</option>
                            <option value="line">Gráfico de Linhas</option>
                            <option value="donut">Gráfico de Rosca</option>
                        </select>
                    </div>
                </div>

            </div>
        </div>

    </main>

    <script>
        // Inicializar os ícones Lucide
        lucide.createIcons();

        // Trocar de Abas (Tabs)
        function switchTab(tabId, navElement) {
            // Esconde todas as views
            document.querySelectorAll('.view-section').forEach(view => {
                view.classList.remove('active');
            });
            
            // Remove a classe active do menu
            if(navElement) {
                document.querySelectorAll('.nav-item').forEach(nav => nav.classList.remove('active'));
                navElement.classList.add('active');
            }

            // Mostra a view clicada
            const targetView = document.getElementById('view-' + tabId);
            if (targetView) targetView.classList.add('active');

            // Ajusta o título do header dinamicamente (bônus de UX)
            const titles = {
                'dash': { title: 'Painel Geral', sub: 'Monitoramento em Tempo Real' },
                'config': { title: 'Configurações', sub: 'Preferências do Sistema' },
                'infracoes': { title: 'Histórico de Infrações', sub: 'Busca e Filtros Avançados' },
                'salas': { title: 'Controle de Salas', sub: 'Gestão de permissões' }
            };
            if(titles[tabId]) {
                document.getElementById('header-title').innerText = titles[tabId].title;
                document.getElementById('header-subtitle').innerText = titles[tabId].sub;
            }
        }

        // Dark Mode Toggle
        function toggleTheme() {
            const isDark = document.getElementById('toggle-darkmode').checked;
            if (isDark) {
                document.body.setAttribute('data-theme', 'dark');
            } else {
                document.body.removeAttribute('data-theme');
            }
        }

        // Notificações Dropdown Toggle
        function toggleNotifications() {
            const dropdown = document.getElementById('notifDropdown');
            dropdown.classList.toggle('show');
            
            // Remove a bolinha vermelha simulando que as notificações foram vistas
            const dot = document.querySelector('.badge-dot');
            if(dot) dot.style.display = 'none';
        }

        // Fechar dropdown de notificação se clicar fora dele
        window.onclick = function(event) {
            if (!event.target.closest('.header-actions')) {
                const dropdowns = document.getElementsByClassName("notif-dropdown");
                for (let i = 0; i < dropdowns.length; i++) {
                    let openDropdown = dropdowns[i];
                    if (openDropdown.classList.contains('show')) {
                        openDropdown.classList.remove('show');
                    }
                }
            }
        }
    </script>
</body>
</html>